<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="X-UA-Compatible" content="IE=5">
        <meta http-equiv="X-UA-Compatible" content="IE=7">
        <meta http-equiv="X-UA-Compatible" content="IE=8">
        <meta name="keywords" content="Open Source！教你用js做一个简单的抽奖系统~ JavaScript">
        <meta name="description" content="编程学习无忧,旅行达人分享生活,记录生活的美好时光">
        <title>Open Source！教你用js做一个简单的抽奖系统~</title>
        <link rel="stylesheet icon" href="../../../images/d.ico"/>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../../../css/articleStyle.css" />
        <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
        <script type="text/javascript" src="../../../js/function.js"></script>
        <link rel="stylesheet" href="../../../layui/css/layui.css">
        <script src="../../../layui/layui.all.js"></script>
        <script src="../../../layui/layui.js"></script>
        <script>
        layui.use(['element', 'layer'], function(){
            var element = layui.element;
            var layer = layui.layer;
            });
        </script>
    </head>
    
    <body id="body" onload="randomApi()">
            <div class="navbarul navbar-fixed-top">
                    <ul class="layui-nav navbar" lay-filter="">
                            <a href="../../../index.html"><div class="logo layui-col-md-offset1"><img src="../../../images/logo.png" alt=""></div></a>
                        <li class="layui-nav-item layui-hide-xs"><a href="../../../index.html">本尊</a></li>
                        <li class="layui-nav-item layui-hide-xs"><a href="../../../page/orgLoft.html">orgLoft头条</a></li>
                        <li class="layui-nav-item layui-hide-xs layui-this">
                            <a href="javascript:;">学习笔记</a>
                            <dl class="layui-nav-child"> <!-- 二级菜单 -->
                                <dd><a href="../../../page/C/">C</a></dd>
                                <dd><a href="../../../page/Java/">Java</a></dd>
                                <dd><a href="../../../page/Python/">Python</a></dd>
                                <dd><a href="../../../page/JavaScript/">JavaScript</a></dd>
                                <dd><a href="../../../page/Web/">Web</a></dd>
                            </dl>
                            </li>
                        <li class="layui-nav-item layui-hide-xs"><a href="../../../page/Linux/">Linux系统</a></li>
                        <li class="layui-nav-item layui-hide-xs"><a href="../../../page/software/">好软推荐</a></li>
                        <li class="layui-nav-item layui-hide-xs"><a href="../../../page/photograph.html">摄影修炼</a></li>
                        <li class="layui-nav-item layui-hide-xs"><a href="../../../page/travel/">云旅游</a></li>
                        <li class="layui-nav-item hidden-xs hidden-sm"><a href="javascript:changeimg()">换肤<span class="layui-badge-dot"></span></a></li>
                        <li class="layui-nav-item visible-xs" style="float: right;"><a href="javascript:openNav()">&#9776; 更多</a></li>
                    </ul>
                </div>
                <div id="mySidenav" class="sidenav visible-xs visible-sm">
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                    <a href="../../../page/orgLoft.html">orgLoft头条</a>
                    <blockquote class="layui-elem-quote">学习笔记</blockquote> 
                    <a href="../../../page/C/">C</a>
                    <a href="../../../page/Java/">Java</a>
                    <a href="../../../page/Python/">Python</a>
                    <a href="../../../page/JavaScript/">JavaScript</a>
                    <a href="../../../page/Web/">Web</a>
                    <blockquote class="layui-elem-quote">系统</blockquote>
                    <a href="../../../page/Linux/">Linux系统</a>
                    <blockquote class="layui-elem-quote">软件</blockquote>
                    <a href="../../../page/software/">好软推荐</a>
                    <blockquote class="layui-elem-quote">摄影旅游</blockquote>
                    <a href="../../../page/photograph.html">摄影修炼</a>
                    <a href="../../../page/travel/">云旅游</a>
                </div>

        <div class="text-motto hidden-xs">
            <p>倘只看书，便变成书橱。</p><sub>— —鲁迅</sub>
        </div>
        <a class="changepage hidden-xs" href="../1/">
                <img src="../../../images/cp.png">
        </a>
        <a class="changepagenext hidden-xs" href="../3/">
                <img src="../../../images/cp.png">
        </a>
        <div class="container">
         <div class="row">
             <div class="article col-md-10 col-md-offset-1">
            <div class="article-title">Open Source！教你用js做一个简单的抽奖系统~<div class="author"></br>作者：@_小K同學    发表日期：2019.11.25</br></div>
            </div>
                <div class="article-body"><div class="innerPho"><img src="../../../images/Web2/01.jpg"></div>
                    <p>很奇怪，可能你们都会问为什么我会突然写一个抽奖系统呢？<br><br></p>

                    <p>其实起因是最近我协会招新，动员大会前一晚突然收到会长信息(晚上11点了),说想在新生会员动员大会上搞个自动抽奖的东东，最好酷炫点的。第二天就要用了，因为太急我就想到了用我最擅长的js做个简单的出来。</p>
                    <p>其实做个抽奖系统很简单，里面只要一个随机函数就可以了。<br><br></p>

                    <p>前提：我协会的动员大会上是每人都有一个签的，签上有号码，共389人。<br><br></p>

                    <p>按照惯例，先给大伙看看样子~</p><div class="innerPho"><img src="../../../images/Web2/2.jpg"></div>
                    <p>两行文字，两个按钮，一个随机数，足矣。</p>
                    <p>[界面还行吧！调文字颜色调了好久]<br><br></p>

                    <p>这个界面的html非常简单，总共就21行代码，body标签里面就只剩8行了~一起来看看吧。CSS样式还是由你们自行想象</p><div class="innerPho"><img src="../../../images/Web2/3.jpg"></div>
                    <p>我来解释一下，因为时间比较紧迫(赶着睡觉[滑稽])，我引入了Bootstrap框架用于主容器的布局(container)和button的外观(class里面的btn-primary和btn-danger)。简单快捷又好看<br><br></p>

                    <p>布局完界面后，重头戏当然还是js文件，里面写着随机数函数嘛<br><br></p>

                    <p>在下图可以看到，我是先定义了一个空数组装随机数的，getRandom()函数就是圈定随机数的范围。</p>
                    <p>获取完随机数后用push方法把得到的随机数传到array数组。</p>
                    <p>最后再把数组输出在id为one的div里就可以咯。</p><div class="innerPho"><img src="../../../images/Web2/4.jpg"></div>
                    <h2 style="float: left;">插播一个科普：</h2>
                    <p>push()方法其实就是向数组的末尾添加一个或多个新元素，看一下w3school的实例就明了啦</p>
                    <p>因为我的先前定义的array数组是空的，所以加一个元素进去也就只显示那个元素</p><div class="innerPho"><img src="../../../images/Web2/5.jpg"></div>
                    <p>到这里随机数就已经搞定了。<br><br></p>

                    <p>我的想法是什么呢？当然是点击START就开始，点击STOP就结束啊！不然要那两个按钮还搞得这么漂亮干什么<br><br></p>

                    <p>继续写函数！这两个函数就是控制开始停止的，看我注释应该看得懂，不多说了</p><div class="innerPho"><img src="../../../images/Web2/6.jpg"></div>
                    <P>最后！在html页面设置一个js DOM的０级事件(onclick)，大功告成！</P>
                    <p>看到下面那个value="stop"了吗？就是和上图函数写的判断if(mark=='stop')有关联。</p><div class="innerPho"><img src="../../../images/Web2/7.jpg"></div>
                    <p>第二天彩排，会长说有一共30份礼物，一个一个抽太慢了...他想一抽就是30个，好吧！然后我又临时改了一波～<br><br></p>

                    <p>就改了下面两个地方，html页面加多两个div就行了</p><div class="innerPho"><img src="../../../images/Web2/8.jpg"></div>
                    <p>js函数改动如下，把Array.push()放在一个循环30次的for循环里，表示生成30个存随机数的数组。</p>
                    <p>然后用innerHTML把30个数组分别十个十个地放在3个div里。</p><div class="innerPho"><img src="../../../images/Web2/9.jpg"></div><br>
                    <h2>最终效果就是酱紫：</h2><div class="innerPho"><img src="../../../images/Web2/10.jpg"></div><br>

                    <p>----------------------进阶版本-------------------------<br><br></p>

                    <p>有些酷友可能会说上面的只能在代码里改范围，不方便。ok，那进阶版本就来做个可以自定义输入范围的吧~</p>
                    <p>其实这个也很简单，只需要改下html布局和js的函数就可以了。<br><br></p>

                    <p>说下思路：设置两个搜索框用于用户输入范围，然后用js获取输入框里面的数值丢到random函数里就ok<br><br></p>

                    <p>首先在html文件中写两个输入框(input)，下面红色框中就是新增的部分</p><div class="innerPho"><img src="../../../images/Web2/11.jpg"></div>
                    <p>然后改下js的函数，因为我们先要获取到输入框的数值才能进行下面的步骤，所以在函数开头我们先定义两个变量mini和maxi，分别用于储存在input1和input2获取的内容。</p><div class="innerPho"><img src="../../../images/Web2/12.jpg"></div>
                    <p>强调一下，这里细心的酷友应该会发现下面我把获取到的value转换成数字(number)类型了，其实是因为getElementById获取到的是字符串(string)。那为什么我要保留两个字符串类型的呢？请看下面解释~<br><br></p>

                    <p>接下来再加个判断就ok啦！加判断的原因是：因为用户有时候会手误输入了一些不正确的数字导致运行错误，所以我设置把min == max、min > max的情况和是否有输入都输出一个提示，其他情况就正常运行。</p><div class="innerPho"><img src="../../../images/Web2/13.jpg"></div>
                    <p>红色框里是判断部分。黄色框里是判断用户是否有输入(判断长度只能在字符串使用，所以要保留字符串类型)；蓝色框是判断min和max是否相等，和min是否大于max。绿色框就是把min和max丢进getRandom函数里面。<br><br></p>

                    <p>看看最终的效果吧 <a target="_blank" style="color: coral" href="http://www.orgloft.com/page/luckyDraw.html">www.orgloft.com/page/luckyDraw.html</a></p><div class="innerPho"><img src="../../../images/Web2/14.jpg"></div>
                    <p>-------------------------昏割线-----------------------<br><br></p>

                    <p>插播：至于我的getRandom函数为什么要那样写，大家可以参考下这篇文章，有关js中random函数的运行原理 <a target="_blank" style="color: coral" href="https://www.cnblogs.com/mq0036/p/9139231.html">点击查看</a><br><br></p>

                    <p>想要源码的盆友看过原来呀！ #爱编程# </p>
                    <p>源码在此：(提取码: chdr) <a target="_blank" style="color: coral" href="https://pan.baidu.com/s/1_8can3oRonYDLb3vHR2XKw">点击下载</a></p>
                    <p>(这个是每次抽一个的源码，有需要抽多个的自己改装呀)<br><br></p>

                    <p>上期回顾：<a style="color: coral" href="http://www.orgloft.com/page/Web/3/">www.orgloft.com/page/Web/3/</a><br><br></p>

                    <p>又氵了一篇，氵完就溜，拜拜～</p>
                <div class="article-footer"></div>
            </div>
        </div>

             </div>
         </div>   
        </div>

        <a class="returnTop hidden-xs" href="javascript:returnTop()">
            <img src="../../../images/returnTop.png">
        </a>
        <div class="container-fluid">
            <div class="bottom">
                <p class="bold">！！本页内容如需转载请经过站主许可，转载请注明出处！！</p></br>
                <p>COPYRIGHT © 2019 ORGLOFT.COM ALL RIGHTS RESERVED</p></br>
                <p>THIS WEBSITE IS A PERSONAL WEBSITE FOR EVERYONE TO LEARN AND COMMUNICATE</p></br>
                <p>ABOUT US：DEVELOPER <a class="coolapk" href="https://www.coolapk.com/" target="_blank">酷安</a> @_小K同學 & @DD_fighter<br><br></p>
            </div>
        </div>

    </body>
</html>